{
  "name": "restless",
  "version": "0.0.4",
  "description": "REST client library for node.js (based on restler but with callbacks)",
  "contributors": [
    {
      "name": "Dan Webb",
      "email": "dan@danwebb.net"
    },
    {
      "name": "Blake VanLandingham",
      "email": "blakevanlan@gmail.com"
    }
  ],
  "homepage": "https://github.com/blakevanlan/restless",
  "directories": {
    "lib": "./lib"
  },
  "main": "./lib/restless",
  "engines": {
    "node": ">= 0.6.x"
  },
  "dependencies": {
    "xml2js": ">=0.1.0",
    "yaml": ">=0.2.0",
    "iconv": ">=1.0.0"
  },
  "optionalDependencies": {
    "xml2js": ">=0.1.0",
    "yaml": ">=0.2.0",
    "iconv": ">=1.0.0"
  },
  "devDependencies": {
    "mocha": "1.2.2",
    "should": "0.6.3"
  },
  "scripts": {
    "test": "mocha --recursive --reporter spec"
  },
  "readme": "Restless\r\n=======\r\n[![Build Status](https://secure.travis-ci.org/blakevanlan/restless.png?branch=master)](http://travis-ci.org/blakevanlan/restless)\r\n\r\n\r\nBased on [Restler](https://github.com/danwrong/restler) by [@danwrong](https://github.com/danwrong/)\r\n(C) Dan Webb (dan@danwebb.net/@danwrong) 2011, Licensed under the MIT-LICENSE\r\n\r\nAn HTTP client library for node.js (0.6.x and up).  Hides most of the complexity of creating and using http.Client.\r\n\r\nThe difference between Restless and Restler is Restless uses callbacks instead of the emitter pattern.\r\n\r\nFeatures\r\n--------\r\n\r\n* Easy interface for common operations via http.request\r\n* Automatic serialization of post data\r\n* Automatic serialization of query string data\r\n* Automatic deserialization of XML, JSON and YAML responses to JavaScript objects (if you have js-yaml and/or xml2js in the require path)\r\n* Provide your own deserialization functions for other datatypes\r\n* Automatic following of redirects\r\n* Send files with multipart requests\r\n* Transparently handle SSL (just specify https in the URL)\r\n* Deals with basic auth for you, just provide username and password options\r\n* Simple service wrapper that allows you to easily put together REST API libraries\r\n* Transparently handle content-encoded responses (gzip, deflate) (requires node 0.6+)\r\n* Transparently handle different content charsets via [iconv](https://github.com/bnoordhuis/node-iconv) (if available)\r\n\r\nAPI\r\n---\r\n\r\n### request(url [, options])\r\n\r\n#### members\r\n\r\n* `abort([error])` Cancels request. `request.aborted` is set to `true`. If non-falsy `error` is passed, then `error` will be passed to the callback (with `error.type` set to `\"abort\"`).\r\n* `retry([timeout])` Re-sends request after `timeout` ms. Pending request is aborted.\r\n* `aborted` Determines if request was aborted.\r\n\r\n### get(url [, options] [, callback])\r\n\r\nCreate a GET request.\r\n\r\n### post(url [, options] [, callback])\r\n\r\nCreate a POST request.\r\n\r\n### put(url [, options] [, callback])\r\n\r\nCreate a PUT request.\r\n\r\n### del(url [, options] [, callback])\r\n\r\nCreate a DELETE request.\r\n\r\n### head(url [, options] [, callback])\r\n\r\nCreate a HEAD request.\r\n\r\n### json(url, data [, options] [, method] [, callback])\r\n\r\nSend json `data` via specified method, defaults to GET.\r\n\r\n### postJson(url, data [, options] [, callback])\r\n\r\nSend json `data` via POST method.\r\n\r\n### Callback\r\n\r\nThe parameters are as follows: `function(error, body, response)`. If no error occurred then `error` will be null.\r\n\r\n### Parsers\r\n\r\nYou can give any of these to the parsers option to specify how the response data is deserialized.\r\nIn case of malformed content, an `error` object will be passed to the callback. Original data returned by server is stored in `response.raw`.\r\n\r\n#### parsers.auto\r\n\r\nChecks the content-type and then uses parsers.xml, parsers.json or parsers.yaml.\r\nIf the content type isn't recognised it just returns the data untouched.\r\n\r\n#### parsers.json, parsers.xml, parsers.yaml\r\n\r\nAll of these attempt to turn the response into a JavaScript object. In order to use the YAML and XML parsers you must have yaml and/or xml2js installed.\r\n\r\n### Options\r\n\r\n* `method` Request method, can be get, post, put, del. Defaults to `\"get\"`.\r\n* `query` Query string variables as a javascript object, will override the querystring in the URL. Defaults to empty.\r\n* `data` The data to be added to the body of the request. Can be a string or any object.\r\nNote that if you want your request body to be JSON with the `Content-Type: application/json`, you need to\r\n`JSON.stringify` your object first. Otherwise, it will be sent as `application/x-www-form-urlencoded` and encoded accordingly.\r\nAlso you can use `json()` and `postJson()` methods.\r\n* `parser` A function that will be called on the returned data. Use any of predefined `restless.parsers`. See parsers section below. Defaults to `restless.parsers.auto`.\r\n* `encoding` The encoding of the request body. Defaults to `\"utf8\"`.\r\n* `decoding` The encoding of the response body. For a list of supported values see [Buffers](http://nodejs.org/docs/latest/api/buffers.html#buffers). Additionally accepts `\"buffer\"` - returns response as `Buffer`. Defaults to `\"utf8\"`.\r\n* `headers` A hash of HTTP headers to be sent. Defaults to `{ 'Accept': '*/*', 'User-Agent': 'Restless for node.js' }`.\r\n* `username` Basic auth username. Defaults to empty.\r\n* `password` Basic auth password. Defaults to empty.\r\n* `multipart` If set the data passed will be formated as `multipart/form-encoded`. See multipart example below. Defaults to `false`.\r\n* `client` A http.Client instance if you want to reuse or implement some kind of connection pooling. Defaults to empty.\r\n* `followRedirects` If set will recursively follow redirects. Defaults to `true`.\r\n* `callback` A callback function can be supplied in the options. This is an alternative to passing the callback function as the last parameter to any of the above methods. Note: This is the only way to use a callback function if you are using the `request` function direct.\r\n\r\n\r\nExample usage\r\n-------------\r\n\r\n```javascript\r\nvar sys = require('util'),\r\nvar rest = require('./restless');\r\n\r\nrest.get('http://google.com', function(error, data) {\r\n  if (error instanceof Error) {\r\n    sys.puts('Error: ' + error.message);\r\n    this.retry(5000); // try again after 5 sec\r\n  } else {\r\n    sys.puts(data);\r\n  }\r\n});\r\n\r\nrest.get('http://twaud.io/api/v1/users/danwrong.json', function(error, data) {\r\n  sys.puts(data[0].message); // auto convert to object\r\n});\r\n\r\nrest.get('http://twaud.io/api/v1/users/danwrong.xml', function(error, data) {\r\n  sys.puts(data[0].sounds[0].sound[0].message); // auto convert to object\r\n});\r\n\r\nrest.post('http://user:pass@service.com/action', {\r\n  data: { id: 334 },\r\n  function(error, data, response) {\r\n    if (response.statusCode == 201) {\r\n      // you can get at the raw response like this...\r\n    }\r\n  }\r\n});\r\n\r\n// multipart request sending a 321567 byte long file using https\r\nrest.post('https://twaud.io/api/v1/upload.json', {\r\n  multipart: true,\r\n  username: 'danwrong',\r\n  password: 'wouldntyouliketoknow',\r\n  data: {\r\n    'sound[message]': 'hello from restless!',\r\n    'sound[file]': rest.file('doug-e-fresh_the-show.mp3', null, 321567, null, 'audio/mpeg')\r\n  }\r\n}, function(error, data) {\r\n  sys.puts(data.audio_url);\r\n});\r\n\r\n// create a service constructor for very easy API wrappers a la HTTParty...\r\nTwitter = rest.service(function(u, p) {\r\n  this.defaults.username = u;\r\n  this.defaults.password = p;\r\n}, {\r\n  baseURL: 'http://twitter.com'\r\n}, {\r\n  update: function(message) {\r\n    return this.post('/statuses/update.json', { data: { status: message } });\r\n  }\r\n});\r\n\r\nvar client = new Twitter('danwrong', 'password');\r\nclient.update('Tweeting using a Restless service thingy').on('complete', function(data) {\r\n  sys.p(data);\r\n});\r\n\r\n// post JSON\r\nvar jsonData = { id: 334 };\r\nrest.postJson('http://example.com/action', jsonData, function(error, data, response) {\r\n  // handle response\r\n});\r\n\r\n```\r\n\r\nRunning the tests\r\n-----------------\r\n```bash\r\nnpm test\r\n```\r\n\r\nTODO\r\n----\r\n* What do you need? Let me know or fork.\r\n",
  "_id": "restless@0.0.4",
  "dist": {
    "shasum": "67dbd507bdccc36b0059b6e5691d19746f691d4e"
  },
  "deprecated": "Use request package instead.",
  "_from": "restless@0.0.4"
}
